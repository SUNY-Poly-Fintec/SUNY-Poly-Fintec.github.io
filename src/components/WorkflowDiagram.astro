---
/* No props needed; pure inline SVG for portability */
---
<figure class="card">
  <figcaption style="margin-bottom:.75rem; font-weight:600">AI Server Workflow</figcaption>

  <!-- Responsive SVG diagram -->
  <svg
    viewBox="0 0 950 360"
    width="100%"
    role="img"
    aria-label="Data flows from Broker to Compute Node, which cleans data and sends to a CUDA AI Machine; the Compute Node also calls the OpenAI API. Results return to storage and dashboards."
  >
    <!-- defs -->
    <defs>
      <linearGradient id="g1" x1="0" x2="1">
        <stop offset="0%" stopColor="#1e293b" />
        <stop offset="100%" stopColor="#0f172a" />
      </linearGradient>

      <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
        <feDropShadow dx="0" dy="2" stdDeviation="3" floodColor="#000" floodOpacity="0.4" />
      </filter>

      <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto-start-reverse">
        <path d="M0,0 L12,6 L0,12 Z" fill="#60a5fa" />
      </marker>
    </defs>

    <!-- Nodes -->
    <g filter="url(#shadow)">
      <!-- Broker -->
      <rect x="40" y="40" rx="12" ry="12" width="220" height="90" fill="url(#g1)" stroke="#334155" />
      <text x="150" y="85" textAnchor="middle" fill="#e5e7eb" fontSize="18" fontWeight="600">Broker / Exchange</text>
      <text x="150" y="105" textAnchor="middle" fill="#9ca3af" fontSize="12">Market data API / WebSocket</text>

      <!-- Compute -->
      <rect x="330" y="40" rx="12" ry="12" width="260" height="120" fill="url(#g1)" stroke="#334155" />
      <text x="460" y="80" textAnchor="middle" fill="#e5e7eb" fontSize="18" fontWeight="600">Compute Node</text>
      <text x="460" y="100" textAnchor="middle" fill="#9ca3af" fontSize="12">ETL • Cleaning • Feature Eng.</text>
      <text x="460" y="118" textAnchor="middle" fill="#9ca3af" fontSize="12">Batch &amp; streaming pipelines</text>

      <!-- CUDA AI -->
      <rect x="660" y="40" rx="12" ry="12" width="240" height="120" fill="url(#g1)" stroke="#334155" />
      <text x="780" y="80" textAnchor="middle" fill="#e5e7eb" fontSize="18" fontWeight="600">CUDA AI Machine</text>
      <text x="780" y="100" textAnchor="middle" fill="#9ca3af" fontSize="12">GPU inference / training</text>
      <text x="780" y="118" textAnchor="middle" fill="#9ca3af" fontSize="12">RL • LSTM • Transformers</text>

      <!-- OpenAI API -->
      <rect x="410" y="210" rx="12" ry="12" width="240" height="100" fill="url(#g1)" stroke="#334155" />
      <text x="530" y="250" textAnchor="middle" fill="#e5e7eb" fontSize="18" fontWeight="600">OpenAI API</text>
      <text x="530" y="270" textAnchor="middle" fill="#9ca3af" fontSize="12">LLM prompts • embeddings • tools</text>

      <!-- Storage / Dashboards -->
      <rect x="40" y="210" rx="12" ry="12" width="300" height="100" fill="url(#g1)" stroke="#334155" />
      <text x="190" y="250" textAnchor="middle" fill="#e5e7eb" fontSize="18" fontWeight="600">Storage &amp; Dashboards</text>
      <text x="190" y="270" textAnchor="middle" fill="#9ca3af" fontSize="12">DB • S3 • Grafana/Streamlit</text>
    </g>

    <!-- Arrows -->
    <line x1="260" y1="85" x2="330" y2="85" stroke="#60a5fa" strokeWidth="3" markerEnd="url(#arrow)" />
    <text x="295" y="70" textAnchor="middle" fill="#9ca3af" fontSize="12">Raw market data</text>

    <line x1="590" y1="85" x2="660" y2="85" stroke="#60a5fa" strokeWidth="3" markerEnd="url(#arrow)" />
    <text x="625" y="70" textAnchor="middle" fill="#9ca3af" fontSize="12">Cleaned features</text>

    <line x1="460" y1="160" x2="460" y2="210" stroke="#60a5fa" strokeWidth="3" markerEnd="url(#arrow)" />
    <text x="470" y="190" fill="#9ca3af" fontSize="12">Prompts / data</text>

    <line x1="530" y1="310" x2="530" y2="260" stroke="#60a5fa" strokeWidth="3" markerEnd="url(#arrow)" />
    <text x="540" y="295" fill="#9ca3af" fontSize="12">Responses</text>

    <line x1="660" y1="120" x2="340" y2="260" stroke="#60a5fa" strokeWidth="3" markerEnd="url(#arrow)" />
    <text x="480" y="205" fill="#9ca3af" fontSize="12">Signals / summaries</text>

    <line x1="330" y1="120" x2="190" y2="210" stroke="#60a5fa" strokeWidth="3" markerEnd="url(#arrow)" />
    <text x="255" y="165" fill="#9ca3af" fontSize="12">Metrics &amp; logs</text>
  </svg>

  <figcaption style="margin-top:.5rem; color:#9ca3af; font-size:12px">
    Data flow: Broker → Compute (ETL) → CUDA AI. Compute also integrates with OpenAI API for LLM tasks; results feed storage and dashboards.
  </figcaption>
</figure>



